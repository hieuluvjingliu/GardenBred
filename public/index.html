<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Garden Bred Game ‚Äî MVP</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
<div class="app">
  <header>
    <h1>Garden Bred Game ‚Äî MVP</h1>

    <div id="auth">
      <input id="username" placeholder="Enter username" />
      <button id="btnLogin">Login</button>
    </div>

    <!-- HUD (·∫©n khi ch∆∞a ƒëƒÉng nh·∫≠p) -->
    <div id="hud" class="hidden">
      <span class="pill">
        <svg class="ico user" viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 4-6 8-6s8 2 8 6"/></svg>
        <b id="hudUser"></b>
      </span>
      <span class="pill">
        <svg class="ico coin" viewBox="0 0 24 24"><circle cx="12" cy="12" r="8"/></svg>
        <b id="hudCoins">0</b>
      </span>

      <!-- MiniHUD floating controls (hook cho client.js v·ªÅ sau) -->
      <div id="miniHud" class="hidden" style="margin-left:8px;display:flex;gap:8px;flex-wrap:wrap;">
        <button id="miniAutoPot" class="pill small">Auto Pot: OFF</button>
        <button id="miniAutoPlant" class="pill small">Auto Plant: OFF</button>
        <span class="pill small" id="miniTraps">Traps: 0</span>
        <span class="pill small" id="miniMature">Mature: 0</span>
      </div>
    </div>
  </header>

  <nav class="tabs hidden" id="tabs">
    <button data-tab="shop" class="active">üõí Shop</button>
    <button data-tab="inventory">üì¶ Kho</button>
    <button data-tab="breed">üß¨ Lai</button>
    <button data-tab="online">üåê Online</button>
    <button data-tab="market">ü™ô Ch·ª£ tr·ªùi</button>
    <button data-tab="farm">üå± Khu tr·ªìng</button>
  </nav>

  <!-- SHOP -->
  <section id="shop" class="tab">
    <h2>Shop</h2>

    <div class="subtabs" id="shopTabs">
      <button data-sub="shopSeeds" class="active">Seeds</button>
      <button data-sub="shopPots">Pots</button>
      <button data-sub="shopTrap">Trap</button>
    </div>

    <div id="shopSeeds" class="subtab">
      <div id="seedShopGrid" class="shop-grid"></div>
    </div>

    <div id="shopPots" class="subtab hidden">
      <div id="potShopGrid" class="shop-grid"></div>
    </div>

    <div id="shopTrap" class="subtab hidden">
      <div class="card">
        <h3>Trap</h3>
        <p>Gi√° hi·ªán t·∫°i: <b id="trapPrice">-</b>; T·ªëi ƒëa: <b id="trapMax">-</b></p>
        <button id="buyTrap">Buy Trap</button>
      </div>
    </div>
  </section>

  <!-- INVENTORY -->
  <section id="inventory" class="tab hidden">
    <h2>Kho</h2>

    <div class="subtabs">
      <button data-sub="inv-seeds" class="active">Seeds (Not Planted)</button>
      <button data-sub="inv-pots">Pots</button>
      <button data-sub="inv-mature">Mature</button>
    </div>

    <!-- Seeds (Not Planted) + Filters + Plant All -->
    <div id="inv-seeds" class="subtab">
      <!-- B·ªô l·ªçc inventory (hook cho client.js n√¢ng c·∫•p) -->
      <div class="row" id="invSeedFilters" style="gap:8px;flex-wrap:wrap;margin-bottom:8px;">
        <select id="fltInvState" title="State">
          <option value="all">All</option>
          <option value="not">Not Planted</option>
          <option value="mat">Mature</option>
        </select>
        <select id="fltInvClass" title="Class">
          <option value="all">All classes</option>
        </select>
        <select id="fltInvMut" title="Mutation">
          <option value="all">All mutations</option>
          <option value="none">None</option>
          <option value="green">green</option>
          <option value="blue">blue</option>
          <option value="yellow">yellow</option>
          <option value="pink">pink</option>
          <option value="red">red</option>
          <option value="gold">gold</option>
          <option value="rainbow">rainbow</option>
        </select>
        <button id="btnPlantAll" class="btn">Plant All (filtered)</button>
      </div>

      <ul id="seedInv" class="inv-grid"></ul>

      <h3>Sell to Shop</h3>
      <div class="row">
        <select id="sellSeedSelect"></select>
        <button id="btnSellShop">Sell</button>
      </div>
    </div>

    <div id="inv-pots" class="subtab hidden">
      <ul id="potInv" class="inv-grid"></ul>
    </div>

    <div id="inv-mature" class="subtab hidden">
      <!-- Batch list bar (hook cho client.js n√¢ng c·∫•p) -->
      <div class="row" id="batchListBar" style="gap:8px;flex-wrap:wrap;margin-bottom:8px;">
        <button id="btnSelectAllMat">Select All</button>
        <input id="batchAskPrice" placeholder="ask price (√°p cho t·∫•t c·∫£)" />
        <button id="btnListBatch">List Selected</button>
      </div>
      <ul id="matureByClass" class="inv-grid"></ul>
    </div>
  </section>

  <!-- BREED -->
  <section id="breed" class="tab hidden">
    <h2>Lai</h2>
    <div class="row">
      <select id="breedSelectA"></select>
      <select id="breedSelectB"></select>
      <button id="btnBreed">Breed</button>
      <!-- Random Breed -->
      <button id="btnRandomBreed" class="btn btn-ghost">Random Breed</button>
    </div>
    <!-- K·∫øt qu·∫£ c√≥ th·ªÉ ch·ª©a badge mutation -->
    <p id="breedOut" class="breed-out"></p>
  </section>

  <!-- ONLINE -->
  <section id="online" class="tab hidden">
    <h2>Online Players</h2>
    <ul id="onlineList"></ul>
  </section>

  <!-- MARKET -->
  <section id="market" class="tab hidden">
    <h2>Ch·ª£ tr·ªùi</h2>
    <div class="row">
      <select id="listSeedSelect"></select>
      <input id="listPrice" placeholder="ask price" />
      <button id="btnList">List</button>
    </div>
    <h3>Listings</h3>
    <ul id="marketList"></ul>
  </section>

  <!-- FARM -->
  <section id="farm" class="tab hidden">
    <h2>Khu tr·ªìng</h2>

    <div class="row" id="farmControls" style="gap:8px;flex-wrap:wrap;">
      <button id="btnPrevFloor">‚Üë Floor</button>
      <button id="btnNextFloor">‚Üì Floor</button>
      <button id="btnHarvestAll">Harvest All Mature</button>

      <!-- N√∫t m·ªü Map overview (hook) -->
      <button id="btnOpenMap" class="btn btn-ghost">Map</button>

      <!-- C√°c hook c≈© (gi·ªØ l·∫°i, client.js c√≥ th·ªÉ d√πng) -->
      <span id="buyFloorPrice" style="margin-left:8px; display:none;"></span>
      <button id="btnBuyFloor" style="display:none;">Buy Floor</button>
    </div>

    <!-- Floors s·∫Ω render b·∫±ng JS -->
    <div id="floors"></div>

    <!-- Modal Farm Map Overview (hook cho client.js n√¢ng c·∫•p) -->
    <div id="farmMapModal" class="hidden">
      <div class="modal-inner">
        <h3>Farm Map</h3>
        <div id="farmMapGrid" class="map-grid"></div>
        <button id="btnCloseMap">Close</button>
      </div>
    </div>

    <!-- Form actions (gi·ªØ nguy√™n ƒë·ªÉ t∆∞∆°ng th√≠ch code c≈©) -->
    <div>
      <h3>Actions</h3>
      <select id="plantFloor"></select>
      <select id="plantSlot"></select>
      <select id="plantPot"></select>
      <select id="plantSeed"></select>
      <button id="btnPlacePot">Place Pot</button>
      <button id="btnPlant">Plant</button>
    </div>
  </section>
</div>

<script src="/client.js" defer></script>
</body>
</html>
